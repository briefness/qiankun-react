!function(n,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["main-main"]=e():n["main-main"]=e()}(window,(function(){return(window.webpackJsonp_main=window.webpackJsonp_main||[]).push([[0],{175:function(n,e,t){"use strict";t.r(e);var a=t(4),o=(t(17),t(65)),c=t.n(o);t(74),t(75);var r=function(n){var e=n.content,t=n.loading;function o(n,e){window.history.pushState({},n,e)}return Object(a.jsxs)("div",{className:"App",style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{width:100},children:[Object(a.jsx)("button",{onClick:function(){return o("react1","/react1")},children:"react1"}),Object(a.jsx)("button",{onClick:function(){return o("react2","/react2")},children:"react2"})]}),Object(a.jsxs)("div",{style:{flexGrow:1},children:[t&&Object(a.jsx)("div",{className:"mask",children:"loading..."}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})]})]})},i=t(178),s=t(3);var l=t(5),u=t(1),d=t.n(u),f={},h={};function b(n,e){Object.keys(h).forEach((function(t){h[t]instanceof Function&&h[t](d()(n),d()(e))}))}function p(n,e){return{onGlobalStateChange:function(e,t){if(e instanceof Function){h[n]&&console.warn("[qiankun] '".concat(n,"' global listener already exists before this, new listener will overwrite it.")),h[n]=e;var a=d()(f);t&&e(a,a)}else console.error("[qiankun] callback must be function!")},setGlobalState:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n===f)return console.warn("[qiankun] state has not changed\uff01"),!1;var t=[],a=d()(f);return f=d()(Object.keys(n).reduce((function(a,o){return e||a.hasOwnProperty(o)?(t.push(o),Object.assign(a,Object(l.a)({},o,n[o]))):(console.warn("[qiankun] '".concat(o,"' not declared when init state\uff01")),a)}),f)),0===t.length?(console.warn("[qiankun] state has not changed\uff01"),!1):(b(f,a),!0)},offGlobalStateChange:function(){return delete h[n],!0}}}function g(n){var e=n.appContent,t=n.loading,o=document.getElementById("root");c.a.render(Object(a.jsx)(r,{loading:t,content:e}),o)}function j(n){return function(e){return e.pathname.startsWith(n)}}g({loading:!0}),Object(i.b)([{name:"react1",entry:"//localhost:6651",render:g,activeRule:j("/react1")},{name:"react2",entry:"//localhost:6652",render:g,activeRule:j("/react2")}]);var w,m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n===f)console.warn("[qiankun] state has not changed\uff01");else{var e=d()(f);b(f=d()(n),e)}return p("global-".concat(+new Date),!0)}({user:"qiankun"}),v=m.onGlobalStateChange,y=m.setGlobalState;v((function(n,e){return console.log("[onGlobalStateChange - master]:",n,e)})),y({ignore:"master",user:{name:"master"}}),w="/react1",window.addEventListener("single-spa:no-app-change",(function n(){Object(s.d)().length||Object(s.f)(w),window.removeEventListener("single-spa:no-app-change",n)})),Object(i.c)()},74:function(n,e,t){},75:function(n,e,t){}},[[175,1,2]]])}));
//# sourceMappingURL=main.13455999.chunk.js.map