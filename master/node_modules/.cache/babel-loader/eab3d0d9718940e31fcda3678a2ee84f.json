{"ast":null,"code":"/**\n * @author Kuitos\n * @since 2019-02-19\n */\nimport { getMountedApps, navigateToUrl } from 'single-spa';\nvar firstMountLogLabel = '[qiankun] first app mounted';\n\nif (process.env.NODE_ENV === 'development') {\n  console.time(firstMountLogLabel);\n}\n\nexport function setDefaultMountApp(defaultAppLink) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:no-app-change', function listener() {\n    var mountedApps = getMountedApps();\n\n    if (!mountedApps.length) {\n      navigateToUrl(defaultAppLink);\n    }\n\n    window.removeEventListener('single-spa:no-app-change', listener);\n  });\n}\nexport function runDefaultMountEffects(defaultAppLink) {\n  console.warn('[qiankun] runDefaultMountEffects will be removed in next version, please use setDefaultMountApp instead');\n  setDefaultMountApp(defaultAppLink);\n}\nexport function runAfterFirstMounted(effect) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:first-mount', function listener() {\n    if (process.env.NODE_ENV === 'development') {\n      console.timeEnd(firstMountLogLabel);\n    }\n\n    effect();\n    window.removeEventListener('single-spa:first-mount', listener);\n  });\n}","map":{"version":3,"sources":["/Users/mory/Desktop/qiankun-react/master/node_modules/qiankun/es/effects.js"],"names":["getMountedApps","navigateToUrl","firstMountLogLabel","process","env","NODE_ENV","console","time","setDefaultMountApp","defaultAppLink","window","addEventListener","listener","mountedApps","length","removeEventListener","runDefaultMountEffects","warn","runAfterFirstMounted","effect","timeEnd"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,cAAT,EAAyBC,aAAzB,QAA8C,YAA9C;AACA,IAAIC,kBAAkB,GAAG,6BAAzB;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,EAAAA,OAAO,CAACC,IAAR,CAAaL,kBAAb;AACD;;AAED,OAAO,SAASM,kBAAT,CAA4BC,cAA5B,EAA4C;AACjD;AACAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,0BAAxB,EAAoD,SAASC,QAAT,GAAoB;AACtE,QAAIC,WAAW,GAAGb,cAAc,EAAhC;;AAEA,QAAI,CAACa,WAAW,CAACC,MAAjB,EAAyB;AACvBb,MAAAA,aAAa,CAACQ,cAAD,CAAb;AACD;;AAEDC,IAAAA,MAAM,CAACK,mBAAP,CAA2B,0BAA3B,EAAuDH,QAAvD;AACD,GARD;AASD;AACD,OAAO,SAASI,sBAAT,CAAgCP,cAAhC,EAAgD;AACrDH,EAAAA,OAAO,CAACW,IAAR,CAAa,yGAAb;AACAT,EAAAA,kBAAkB,CAACC,cAAD,CAAlB;AACD;AACD,OAAO,SAASS,oBAAT,CAA8BC,MAA9B,EAAsC;AAC3C;AACAT,EAAAA,MAAM,CAACC,gBAAP,CAAwB,wBAAxB,EAAkD,SAASC,QAAT,GAAoB;AACpE,QAAIT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACc,OAAR,CAAgBlB,kBAAhB;AACD;;AAEDiB,IAAAA,MAAM;AACNT,IAAAA,MAAM,CAACK,mBAAP,CAA2B,wBAA3B,EAAqDH,QAArD;AACD,GAPD;AAQD","sourcesContent":["/**\n * @author Kuitos\n * @since 2019-02-19\n */\nimport { getMountedApps, navigateToUrl } from 'single-spa';\nvar firstMountLogLabel = '[qiankun] first app mounted';\n\nif (process.env.NODE_ENV === 'development') {\n  console.time(firstMountLogLabel);\n}\n\nexport function setDefaultMountApp(defaultAppLink) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:no-app-change', function listener() {\n    var mountedApps = getMountedApps();\n\n    if (!mountedApps.length) {\n      navigateToUrl(defaultAppLink);\n    }\n\n    window.removeEventListener('single-spa:no-app-change', listener);\n  });\n}\nexport function runDefaultMountEffects(defaultAppLink) {\n  console.warn('[qiankun] runDefaultMountEffects will be removed in next version, please use setDefaultMountApp instead');\n  setDefaultMountApp(defaultAppLink);\n}\nexport function runAfterFirstMounted(effect) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:first-mount', function listener() {\n    if (process.env.NODE_ENV === 'development') {\n      console.timeEnd(firstMountLogLabel);\n    }\n\n    effect();\n    window.removeEventListener('single-spa:first-mount', listener);\n  });\n}"]},"metadata":{},"sourceType":"module"}