{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { __awaiter } from \"tslib\";\nvar rawPublicPath = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\nexport default function getAddOn(global) {\n  var publicPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  var hasMountedOnce = false;\n  return {\n    beforeLoad: function beforeLoad() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-param-reassign\n                global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    },\n    beforeMount: function beforeMount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (hasMountedOnce) {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    },\n    beforeUnmount: function beforeUnmount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (rawPublicPath === undefined) {\n                  // eslint-disable-next-line no-param-reassign\n                  delete global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\n                } else {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = rawPublicPath;\n                }\n\n                hasMountedOnce = true;\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n    }\n  };\n}","map":{"version":3,"sources":["/Users/mory/Desktop/qiankun-react/master/node_modules/qiankun/es/addons/runtimePublicPath.js"],"names":["_regeneratorRuntime","__awaiter","rawPublicPath","window","__INJECTED_PUBLIC_PATH_BY_QIANKUN__","getAddOn","global","publicPath","arguments","length","undefined","hasMountedOnce","beforeLoad","mark","_callee","wrap","_callee$","_context","prev","next","stop","beforeMount","_callee2","_callee2$","_context2","beforeUnmount","_callee3","_callee3$","_context3"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,4BAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,IAAIC,aAAa,GAAGC,MAAM,CAACC,mCAA3B;AACA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;AACvC,MAAIC,UAAU,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,GAArF;AACA,MAAIG,cAAc,GAAG,KAArB;AACA,SAAO;AACLC,IAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;AAChC,aAAOX,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASC,OAAT,GAAmB;AAC9F,eAAOd,mBAAmB,CAACe,IAApB,CAAyB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACE;AACAb,gBAAAA,MAAM,CAACF,mCAAP,GAA6CG,UAA7C;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOU,QAAQ,CAACG,IAAT,EAAP;AAPJ;AASD;AACF,SAZM,EAYJN,OAZI,CAAP;AAaD,OAdmD,CAApC,CAAhB;AAeD,KAjBI;AAkBLO,IAAAA,WAAW,EAAE,SAASA,WAAT,GAAuB;AAClC,aAAOpB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASS,QAAT,GAAoB;AAC/F,eAAOtB,mBAAmB,CAACe,IAApB,CAAyB,SAASQ,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACN,IAAV,GAAiBM,SAAS,CAACL,IAAnC;AACE,mBAAK,CAAL;AACE,oBAAIR,cAAJ,EAAoB;AAClB;AACAL,kBAAAA,MAAM,CAACF,mCAAP,GAA6CG,UAA7C;AACD;;AAEH,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOiB,SAAS,CAACJ,IAAV,EAAP;AATJ;AAWD;AACF,SAdM,EAcJE,QAdI,CAAP;AAeD,OAhBmD,CAApC,CAAhB;AAiBD,KApCI;AAqCLG,IAAAA,aAAa,EAAE,SAASA,aAAT,GAAyB;AACtC,aAAOxB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASa,QAAT,GAAoB;AAC/F,eAAO1B,mBAAmB,CAACe,IAApB,CAAyB,SAASY,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACV,IAAV,GAAiBU,SAAS,CAACT,IAAnC;AACE,mBAAK,CAAL;AACE,oBAAIjB,aAAa,KAAKQ,SAAtB,EAAiC;AAC/B;AACA,yBAAOJ,MAAM,CAACF,mCAAd;AACD,iBAHD,MAGO;AACL;AACAE,kBAAAA,MAAM,CAACF,mCAAP,GAA6CF,aAA7C;AACD;;AAEDS,gBAAAA,cAAc,GAAG,IAAjB;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOiB,SAAS,CAACR,IAAV,EAAP;AAdJ;AAgBD;AACF,SAnBM,EAmBJM,QAnBI,CAAP;AAoBD,OArBmD,CAApC,CAAhB;AAsBD;AA5DI,GAAP;AA8DD","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { __awaiter } from \"tslib\";\nvar rawPublicPath = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\nexport default function getAddOn(global) {\n  var publicPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  var hasMountedOnce = false;\n  return {\n    beforeLoad: function beforeLoad() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-param-reassign\n                global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    },\n    beforeMount: function beforeMount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (hasMountedOnce) {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    },\n    beforeUnmount: function beforeUnmount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (rawPublicPath === undefined) {\n                  // eslint-disable-next-line no-param-reassign\n                  delete global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\n                } else {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = rawPublicPath;\n                }\n\n                hasMountedOnce = true;\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}